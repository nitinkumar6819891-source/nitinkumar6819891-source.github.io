<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Projects â€” Nitin</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Project-grid specific styles (kept local so you can paste easily) */
    .projects-wrap { max-width:1200px; margin: 0 auto; padding: 40px 20px; }
    .projects-grid {
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      align-items: stretch;
    }
    .project-card {
      background: #0f1113;
      border: 1px solid rgba(255,255,255,0.03);
      border-radius: 10px;
      overflow: hidden;
      display:flex;
      flex-direction:column;
      transition: transform .25s ease, box-shadow .25s ease;
    }
    .project-card:hover { transform: translateY(-8px); box-shadow: 0 12px 30px rgba(0,0,0,0.6); }
    .project-thumb { width:100%; height:160px; object-fit:cover; background:#111; display:block; }
    .project-body { padding:14px; flex:1; display:flex; flex-direction:column; }
    .project-title { font-weight:700; color:var(--gold); font-size:18px; margin-bottom:8px; }
    .project-excerpt { color:var(--muted); flex:1; font-size:14px; margin-bottom:12px; }
    .project-meta { display:flex; justify-content:space-between; align-items:center; gap:10px; }
    .project-link { color:#fff; background:var(--gold); padding:8px 12px; border-radius:8px; text-decoration:none; font-weight:700; }
    .project-date { color:var(--muted); font-size:13px; }
    @media (max-width:1000px){ .projects-grid{grid-template-columns:repeat(2,1fr);} }
    @media (max-width:700px){ .projects-grid{grid-template-columns:1fr;} }
    .empty-msg { text-align:center; color:var(--muted); padding:40px 20px; }
  </style>
</head>
<body>
  <!-- Keep your site nav if you have it already -->
  <nav>
    <div class="nav-brand">NITIN</div>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="index.html#projects">Projects</a>
      <a href="index.html#contact">Contact</a>
    </div>
  </nav>

  <main class="projects-wrap">
    <h1 class="section-title">Projects</h1>

    <div id="projects-grid" class="projects-grid" aria-live="polite">
      <!-- JS will insert project cards here -->
    </div>

    <div id="projects-empty" class="empty-msg" style="display:none;">
      No projects found yet. Your latest Medium posts (or manual projects.json entries) will appear here after the update runs.
    </div>
  </main>

  <script>
    // Load projects.json and render grid
    async function loadProjects() {
      try {
        const res = await fetch('/projects.json', {cache: "no-store"});
        if (!res.ok) throw new Error('No projects.json');
        const posts = await res.json();
        const grid = document.getElementById('projects-grid');
        grid.innerHTML = '';
        if (!Array.isArray(posts) || posts.length === 0) {
          document.getElementById('projects-empty').style.display = 'block';
          return;
        }
        document.getElementById('projects-empty').style.display = 'none';
        posts.forEach(p => {
          const card = document.createElement('article');
          card.className = 'project-card';
          const thumb = document.createElement('img');
          thumb.className = 'project-thumb';
          thumb.alt = p.title || 'Project image';
          thumb.src = p.thumbnail || ('https://via.placeholder.com/800x400?text=Project+Image');
          const body = document.createElement('div');
          body.className = 'project-body';
          const title = document.createElement('div');
          title.className = 'project-title';
          title.textContent = p.title || 'Untitled';
          const excerpt = document.createElement('div');
          excerpt.className = 'project-excerpt';
          excerpt.textContent = p.excerpt || (p.description || '').slice(0, 160);
          const meta = document.createElement('div');
          meta.className = 'project-meta';
          const date = document.createElement('div');
          date.className = 'project-date';
          date.textContent = p.date || '';
          const link = document.createElement('a');
          link.className = 'project-link';
          link.target = '_blank';
          link.rel = 'noopener noreferrer';
          link.href = p.link || '#';
          link.textContent = 'Read';
          meta.appendChild(date);
          meta.appendChild(link);
          body.appendChild(title);
          body.appendChild(excerpt);
          body.appendChild(meta);
          card.appendChild(thumb);
          card.appendChild(body);
          grid.appendChild(card);
        });
      } catch (err) {
        console.warn('Could not load projects.json:', err);
        document.getElementById('projects-empty').style.display = 'block';
      }
    }

    // Run
    loadProjects();
  </script>
</body>
</html>
